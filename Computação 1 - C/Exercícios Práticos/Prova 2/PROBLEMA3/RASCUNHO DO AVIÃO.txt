Professor, realmente o megabytes foi inicializado como 0, porém o malloc passa e depois, incrementa até estourar a memória, dai eu libero e começo a fazer o mesmo com kbytes e depois com bytes para pegar com precisão a quantidade de bytes na memória. Dê uma olhada nos meus inputs e outputs abaixo e verá que ele consegue imprimir sim o "sobrepeso" (apenas coloquei o printf para mostrar a quantidade de memória sendo calculada corretamente, o resto do programa continua exatamente igual):